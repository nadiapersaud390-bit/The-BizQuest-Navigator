<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Closer‚Äôs Compass | Master Suite</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #000000;
            --card-bg: #0a0a0a;
            --neon-green: #00FF7F;
            --neon-blue: #00E5FF;
            --neon-red: #FF3B30;
            --neon-gold: #FFD700;
            --border-gray: #1a1a1a;
        }

        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--bg-dark); 
            color: #f0f0f0; 
            margin: 0; 
            overflow: hidden; 
            display: flex; 
            flex-direction: column; 
            height: 100vh; 
            text-transform: uppercase;
        }

        /* MODALS */
        #modal-overlay, #form-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.95); backdrop-filter: blur(15px); 
            z-index: 2000; display: none; align-items: center; justify-content: center; 
        }
        .modal-box { 
            background: var(--card-bg); border: 2px solid var(--neon-blue); 
            padding: 40px; border-radius: 25px; max-width: 550px; text-align: center; 
            box-shadow: 0 0 30px rgba(0, 229, 255, 0.15); 
        }
        .form-box { 
            background: #050505; border: 3px solid var(--neon-green); 
            padding: 30px; border-radius: 20px; width: 400px; 
        }

        .header { 
            height: 60px; background: #050505; display: flex; align-items: center; 
            justify-content: space-between; padding: 0 40px; border-bottom: 1px solid var(--border-gray); 
            flex-shrink: 0; 
        }
        
        .main-container { 
            display: grid; 
            grid-template-columns: 280px 1fr 320px; 
            flex-grow: 1; 
            gap: 15px; 
            padding: 15px; 
            box-sizing: border-box; 
            overflow: hidden;
        }
        
        .sidebar { 
            background: var(--card-bg); 
            border-radius: 20px; 
            border: 1px solid var(--border-gray); 
            display: flex; 
            flex-direction: column; 
            overflow: hidden;
        }

        .sidebar-tabs {
            display: flex;
            background: #000;
            border-bottom: 1px solid var(--border-gray);
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            font-size: 0.7rem;
            font-weight: 900;
            border: none;
            background: #000;
            color: #444;
            cursor: pointer;
            transition: 0.2s;
        }

        .tab-btn.active-security { background: var(--neon-red); color: black; }

        .sidebar-content {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            overflow-y: auto;
            flex-grow: 1;
        }

        .script-area { 
            background: #050505; 
            border-radius: 25px; 
            padding: 30px; 
            border: 1px solid var(--border-gray); 
            text-align: center; 
            display: flex; 
            flex-direction: column; 
            position: relative; 
            box-shadow: inset 0 0 80px rgba(0,0,0,0.8);
            overflow-y: auto;
        }

        .script-main-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 250px;
        }

        .rebuttal-dock {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--border-gray);
            text-align: left;
        }

        .rebuttal-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 12px;
        }

        .btn-rebuttal-chip {
            background: #000;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            font-size: 0.65rem;
            padding: 12px 5px;
            border-radius: 10px;
            text-align: center;
            font-weight: 900;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-rebuttal-chip:hover {
            background: var(--neon-blue);
            color: black;
            box-shadow: 0 0 15px rgba(0, 229, 255, 0.4);
        }

        .dispo-panel {
            background: #000;
            border: 1px solid var(--neon-blue);
            border-radius: 20px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow-y: auto;
        }

        .dispo-section {
            padding: 15px;
            border-radius: 15px;
            background: #050505;
            border: 1px solid var(--border-gray);
        }

        .label-tag {
            font-size: 0.65rem;
            font-weight: 900;
            letter-spacing: 1.5px;
            margin-bottom: 10px;
            display: block;
        }

        .btn { 
            padding: 12px; border-radius: 12px; border: 2px solid transparent; 
            background: #111; color: white; cursor: pointer; font-weight: 900; 
            text-transform: uppercase; transition: 0.2s; 
            font-family: 'Montserrat', sans-serif;
        }
        .btn-green { background: var(--neon-green); color: black; border: none; }
        .btn-red { background: var(--neon-red); color: white; border: none; }
        
        .btn-dispo-big {
            width: 100%;
            height: 65px;
            font-size: 1.1rem;
            margin-top: 5px;
        }

        .tracker-subtext {
            display: block;
            font-size: 0.6rem;
            opacity: 0.8;
            margin-top: 4px;
        }

        .explain-box {
            border: 1px dashed var(--neon-gold);
            padding: 10px;
            border-radius: 10px;
            font-size: 0.75rem;
            margin-bottom: 12px;
            background: rgba(255, 215, 0, 0.05);
            text-transform: none;
        }

        .industry-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 15px; }
        .industry-grid .btn { font-size: 0.6rem; padding: 10px 4px; }
        
        .script-text { font-size: 1.6rem; line-height: 1.4; margin-bottom: 25px; font-weight: 700; }
        .instruction { color: var(--neon-gold); font-size: 0.9rem; margin-bottom: 10px; letter-spacing: 3px; font-weight: 900; }
        
        .highlight { color: var(--neon-blue); font-weight: 900; }
        
        /* Revenue Calculator Styling */
        .rev-calc-container {
            background: #0a0a0a;
            padding: 20px;
            border-radius: 20px;
            border: 1px solid var(--border-gray);
            margin: 15px 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .rev-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #000;
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid #111;
        }
        .rev-label { font-size: 0.7rem; color: #555; font-weight: 900; }
        .rev-value { font-size: 1.3rem; color: var(--neon-green); font-weight: 700; }
        .rev-input {
            width: 100%;
            background: #000;
            border: 2px solid var(--neon-blue);
            color: var(--neon-green);
            font-size: 1.6rem;
            text-align: center;
            padding: 15px;
            border-radius: 15px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            box-sizing: border-box;
        }

        .rev-preset-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 5px;
        }

        .btn-preset {
            font-size: 0.65rem;
            padding: 8px;
            background: #111;
            border: 1px solid #222;
            color: #888;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 900;
        }
        .btn-preset:hover { background: #222; color: white; }

        .form-input { width: 100%; background: #000; border: 1px solid var(--border-gray); padding: 12px; border-radius: 10px; color: white; box-sizing: border-box; font-family: 'Montserrat'; }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }
    </style>
</head>
<body onload="init()">

<div id="form-overlay">
    <div class="form-box">
        <h2 style="color: var(--neon-green); margin-top: 0; text-align: center; font-size: 1.2rem; letter-spacing: 2px;">LEAD FORM</h2>
        <input type="text" class="form-input" id="form-biz-name" placeholder="BUSINESS NAME" style="margin-bottom:12px">
        <input type="text" class="form-input" id="form-owner-name" placeholder="OWNER NAME" style="margin-bottom:12px">
        <button class="btn btn-green" style="width: 100%; height: 50px;" onclick="closeForm()">START WARM TRANSFER</button>
    </div>
</div>

<div id="modal-overlay" onclick="closeModal()">
    <div class="modal-box" id="modal-content" onclick="event.stopPropagation()"></div>
</div>

<div class="header">
    <h1 style="font-size: 1rem; letter-spacing: 2px;">BUSINESS LOAN DIV <span style="color: var(--neon-blue);">// TRACKER</span></h1>
    <div id="quote-display" style="color: var(--neon-gold); font-weight: 900; font-size: 0.8rem; letter-spacing: 3px;"></div>
</div>

<div class="main-container">
    <div class="sidebar">
        <div class="sidebar-tabs">
            <button class="tab-btn active-security">üö® SECURITY FLAGS</button>
        </div>
        
        <div id="sidebar-security-content" class="sidebar-content">
            <span class="label-tag" style="color:var(--neon-red)">TERMINATION PROTOCOLS</span>
            <button class="btn" onclick="triggerSecurityExit('üîû PROHIBITED', 'ADULT / STRIP / PORN', 'I APOLOGIZE, OUR UNDERWRITERS DO NOT PROVIDE FUNDING FOR YOUR SPECIFIC INDUSTRY AT THIS TIME. THANK YOU FOR YOUR TIME.')">ADULT / STRIP / PORN</button>
            <button class="btn" onclick="triggerSecurityExit('üë§ PRANK', 'FAKE NAMES / PRANK', 'THIS LINE IS RESERVED FOR PROFESSIONAL BUSINESS FUNDING INQUIRIES ONLY. WE ARE ENDING THE CALL NOW.')">FAKE NAMES / PRANK</button>
            <button class="btn" onclick="triggerSecurityExit('üö´ REFUSAL', 'UNCOOPERATIVE', 'SINCE WE CANNOT VERIFY THE BASIC BUSINESS INFORMATION NEEDED, WE ARE UNABLE TO PROCEED. HAVE A GOOD DAY.')">REFUSAL TO ANSWER</button>
            <button class="btn" onclick="triggerSecurityExit('üìµ DNC', 'DO NOT CALL REQUEST', 'ABSOLUTELY. I HAVE MARKED YOUR BUSINESS AS DO NOT CALL IN OUR DATABASE. YOU WILL NOT BE CONTACTED AGAIN.')">DNC REQUEST</button>
        </div>
    </div>

    <div class="script-area">
        <div id="script-engine">
            <!-- Content Injected by JS -->
        </div>

        <div class="rebuttal-dock">
            <span class="label-tag" style="color:var(--neon-blue)">üîÑ REBUTTAL VAULT</span>
            <div class="rebuttal-grid">
                <div class="btn-rebuttal-chip" onclick="openModal('üè¢ COMPANY?', 'WE\'RE THE BUSINESS LOAN DIVISION. WE HELP CONNECT BUSINESS OWNERS TO THE RIGHT LENDING PROGRAMS THROUGH OUR PARTNER NETWORK.')">WHICH COMPANY?</div>
                <div class="btn-rebuttal-chip" onclick="openModal('üõ°Ô∏è SCAM?', 'I UNDERSTAND THE CONCERN. THIS IS A LEGITIMATE OUTREACH FROM THE BUSINESS LOAN DIVISION. WE WORK ONLY WITH LICENSED INSTITUTIONS.')">IS THIS A SCAM?</div>
                <div class="btn-rebuttal-chip" onclick="openModal('üìß EMAIL?', 'ONCE I CONNECT YOU WITH THE SENIOR ADVISOR, THEY CAN SEND YOU ALL THE INFORMATION DIRECTLY. I JUST NEED TO CONFIRM DETAILS FIRST.')">EMAIL ME FIRST</div>
                <div class="btn-rebuttal-chip" onclick="openModal('üìû WHY?', 'PHONE IS THE QUICKEST WAY TO CONFIRM ELIGIBILITY AND MAKE SURE THE RIGHT PERSON GETS CONNECTED. IT ONLY TAKES A MINUTE.')">WHY CALLING?</div>
                <div class="btn-rebuttal-chip" onclick="openModal('üè¶ BANK?', 'NO, WE‚ÄôRE A DIRECT PRIVATE LENDER. WE WORK WITH BUSINESS-FUNDING PROGRAMS THAT PROVIDE WORKING CAPITAL AND LINES OF CREDIT.')">ARE YOU A BANK?</div>
                <div class="btn-rebuttal-chip" onclick="openModal('üîÑ NOT INT', 'I UNDERSTAND. MOST PEOPLE AREN\'T UNTIL THEY SEE THE RATES WE\'RE SECURING. ARE YOU CURRENTLY USING WORKING CAPITAL?')">NOT INTERESTED</div>
            </div>
        </div>
    </div>

    <div class="dispo-panel">
        <div class="dispo-section" style="border-left: 5px solid var(--neon-green)">
            <span class="label-tag" style="color:var(--neon-green)">‚úÖ SUCCESSFUL TRANSFER</span>
            <button class="btn btn-green btn-dispo-big" onclick="location.reload()">
                SEND LEAD
                <span class="tracker-subtext">DISPO: TRANSFERRED</span>
            </button>
        </div>

        <div class="dispo-section" style="border-left: 5px solid var(--neon-gold)">
            <span class="label-tag" style="color:var(--neon-gold)">üë§ ADVISOR ONLY</span>
            <div class="explain-box">
                <strong style="color:var(--neon-gold)">EXPLAIN:</strong><br>
                "CLIENT WAS ON, BUT DROPPED. SENDING LEAD INFO NOW."
            </div>
            <button class="btn btn-dispo-big" style="background:var(--neon-gold); color:black" onclick="location.reload()">
                SEND LEAD
                <span class="tracker-subtext">DISPO: TRANSFERRED</span>
            </button>
        </div>

        <div class="dispo-section" style="border-left: 5px solid var(--neon-red)">
            <span class="label-tag" style="color:var(--neon-red)">‚ùå CALL DROPPED</span>
            <button class="btn btn-red btn-dispo-big" onclick="location.reload()">
                NO LEAD SENT
                <span class="tracker-subtext">NO CUSTOMER - NO LOAN SPECIALIST</span>
                <span class="tracker-subtext" style="color:#ffaaaa; font-weight: 900;">DO NOT SEND IN TRACKER</span>
            </button>
        </div>
    </div>
</div>

<script>
    const engine = document.getElementById('script-engine');
    const quotes = ["SMILE WHILE YOU TALK", "TONE IS THE CLOSER", "ENERGY OVER EVERYTHING", "NEXT CALL, NEXT DOLLAR"];
    let owner = "(OWNER)";
    let biz = "(BIZ)";

    function init() { 
        document.getElementById('quote-display').innerText = quotes[Math.floor(Math.random() * quotes.length)]; 
        nextStep('start');
    }

    function triggerSecurityExit(title, reason, script) {
        engine.innerHTML = `
            <div style="background: rgba(255, 59, 48, 0.05); border: 2px solid var(--neon-red); padding: 30px; border-radius: 20px; text-align: left;">
                <div class="instruction" style="color:var(--neon-red)">üö® EXIT PROTOCOL: ${title}</div>
                <div style="font-size:0.7rem; color: #555; margin-bottom: 20px;">REASON: ${reason}</div>
                <div class="script-text" style="font-size: 1.4rem; border-top: 1px solid #222; padding-top: 20px;">"${script}"</div>
                <div style="display:flex; gap:15px; margin-top:20px;">
                    <button class="btn btn-red" style="flex:1" onclick="location.reload()">TERMINATE CALL</button>
                    <button class="btn" style="flex:1; background:#222;" onclick="nextStep('start')">RESET SCRIPT</button>
                </div>
            </div>`;
    }

    function openModal(title, text) {
        document.getElementById('modal-content').innerHTML = `
            <h3 style="color: var(--neon-blue); letter-spacing: 2px; margin-bottom: 20px;">${title}</h3>
            <p style="font-size: 1.2rem; line-height: 1.6; color: #fff; background: #000; padding: 30px; border-radius: 20px; border: 1px solid #222; margin-bottom: 25px;">"${text}"</p>
            <button class="btn btn-green" style="width: 100%; height: 50px;" onclick="closeModal()">RESUME SCRIPT</button>`;
        document.getElementById('modal-overlay').style.display = 'flex';
    }
    
    function closeModal() { document.getElementById('modal-overlay').style.display = 'none'; }
    function openForm() { document.getElementById('form-overlay').style.display = 'flex'; }
    function closeForm() { 
        biz = document.getElementById('form-biz-name').value || '(BIZ)';
        owner = document.getElementById('form-owner-name').value || '(OWNER)';
        document.getElementById('form-overlay').style.display = 'none'; 
        nextStep('handoff'); 
    }

    function setPresetRevenue(val) {
        const input = document.getElementById('rev-input-field');
        if (input) {
            input.value = val;
            updateRevenue(val);
        }
    }

    function updateRevenue(val) {
        const monthly = parseFloat(val) || 0;
        const yearly = monthly * 12;
        document.getElementById('calc-monthly-display').innerText = '$' + monthly.toLocaleString();
        document.getElementById('calc-yearly-display').innerText = '$' + yearly.toLocaleString();
        
        const btn = document.getElementById('rev-next-btn');
        if (yearly >= 200000) {
            btn.disabled = false;
            btn.style.opacity = "1";
            btn.innerText = "QUALIFIED - CONTINUE";
            btn.className = "btn btn-green";
        } else {
            btn.disabled = true;
            btn.style.opacity = "0.3";
            btn.innerText = "MIN $200K REQUIRED";
            btn.className = "btn";
        }
    }

    function nextStep(step) {
        let html = "";
        switch(step) {
            case 'start':
                html = `<div class="script-main-content">
                        <div class="instruction">PHASE 1: THE OPENER</div>
                        <div class="script-text">"HI, THIS IS <span class="highlight">(YOUR NAME)</span> FROM THE <span class="highlight">BUSINESS LOAN DIVISION</span>. AM I SPEAKING WITH THE BUSINESS OWNER?"</div>
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <button class="btn btn-green" style="flex:1" onclick="nextStep('followup_direct')">YES (OWNER ON)</button>
                            <button class="btn" style="flex:1; border:1px solid #333" onclick="openModal('GATEKEEPER', 'CAN I PLEASE SPEAK WITH THE OWNER OR MANAGING PARTNER, I\\\'LL HOLD')">NO (TRANSFERRED)</button>
                        </div></div>`;
                break;
            case 'followup_direct':
                html = `<div class="script-main-content">
                        <div class="instruction">TRANSITION</div>
                        <div class="script-text">"PERFECT I'LL BE QUICK. WE'RE FOLLOWING UP BECAUSE YOU WERE <span class='highlight'>PREQUALIFIED</span> FOR WORKING CAPITAL. I JUST HAVE A FEW QUESTIONS."</div>
                        <button class="btn btn-green" style="height: 60px" onclick="nextStep('q1')">START QUALIFYING</button></div>`;
                break;
            case 'q1':
                html = `<div class="script-main-content">
                        <div class="instruction">CRITERIA: 1 YEAR+</div>
                        <div class="script-text">"HAVE YOU BEEN IN BUSINESS FOR AT LEAST <span class='highlight'>1 YEAR</span>?"</div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-green" style="flex:1" onclick="nextStep('q2')">YES (1 YEAR+)</button>
                            <button class="btn btn-red" style="flex:1" onclick="nextStep('dq')">NO</button>
                        </div></div>`;
                break;
            case 'q2':
                html = `<div class="script-main-content">
                        <div class="instruction">INDUSTRY CHECK</div>
                        <div class="script-text" style="font-size: 1.2rem; margin-bottom: 10px;">"WHAT TYPE OF <span class='highlight'>INDUSTRY</span> ARE YOU IN?"</div>
                        <div class="industry-grid">
                            <button class="btn" onclick="nextStep('qPartners')">RETAIL</button>
                            <button class="btn" onclick="nextStep('qPartners')">CONSTRUCTION</button>
                            <button class="btn" onclick="nextStep('qPartners')">RESTAURANT</button>
                            <button class="btn" onclick="nextStep('qPartners')">MANUFACTURING</button>
                            <button class="btn" onclick="nextStep('qPartners')">HEALTHCARE</button>
                            <button class="btn" onclick="nextStep('qPartners')">IT / TECH</button>
                            <button class="btn btn-red" style="grid-column: span 3; font-weight: 900;" onclick="nextStep('dq')">PROHIBITED (TRUCKING/ATTORNEY/ADULT)</button>
                        </div></div>`;
                break;
            case 'qPartners':
                html = `<div class="script-main-content">
                        <div class="instruction">OWNERSHIP %</div>
                        <div class="script-text">"ARE YOU AT LEAST <span class='highlight'>50% OWNER</span>?"</div>
                        <div style="display: flex; gap: 15px;">
                            <button class="btn btn-green" style="flex:1" onclick="nextStep('q3')">YES (OWNER)</button>
                            <button class="btn btn-red" style="flex:1" onclick="openModal('MAJORITY', 'WE NEED TO SPEAK WITH THE MAJORITY PARTNER. SET A CALLBACK.')">NO</button>
                        </div></div>`;
                break;
            case 'q3':
                html = `<div class="script-main-content">
                        <div class="instruction">REVENUE VERIFICATION</div>
                        <div class="script-text" style="font-size: 1.1rem; margin-bottom: 5px;">"WHAT IS YOUR <span class='highlight'>AVG MONTHLY GROSS</span>?"</div>
                        <div class="rev-calc-container">
                            <input type="number" id="rev-input-field" class="rev-input" placeholder="ENTER MONTHLY" oninput="updateRevenue(this.value)">
                            <div class="rev-preset-grid">
                                <button class="btn-preset" onclick="setPresetRevenue(17000)">$17K (MIN)</button>
                                <button class="btn-preset" onclick="setPresetRevenue(35000)">$35K (MID)</button>
                                <button class="btn-preset" onclick="setPresetRevenue(85000)">$85K+ (HIGH)</button>
                            </div>
                            <div class="rev-row" style="margin-top:10px;"><span class="rev-label">MONTHLY:</span><span class="rev-value" id="calc-monthly-display">$0</span></div>
                            <div class="rev-row"><span class="rev-label">EST. ANNUAL:</span><span class="rev-value" id="calc-yearly-display" style="color:var(--neon-gold)">$0</span></div>
                        </div>
                        <button id="rev-next-btn" class="btn" style="width:100%; height:60px; opacity:0.3" disabled onclick="nextStep('qualify')">MIN $200K REQUIRED</button></div>`;
                break;
            case 'qualify':
                html = `<div class="script-main-content">
                        <div class="instruction">PRE-QUALIFIED</div>
                        <div class="script-text">"GREAT! YOU MEET THE CRITERIA. I'M CONNECTING YOU WITH A <span class='highlight'>SENIOR ADVISOR</span> NOW."</div>
                        <button class="btn btn-green" style="height: 60px" onclick="openForm()">POP LEAD FORM</button></div>`;
                break;
            case 'handoff':
                html = `<div class="script-main-content">
                        <div class="instruction">THE HANDOFF</div>
                        <div class="script-text" style="border: 3px solid var(--neon-green); padding: 25px; border-radius: 20px;">
                            "HI, I HAVE <span class='highlight'>${owner}</span> FROM <span class='highlight'>${biz}</span> ON THE LINE. THEY MEET CRITERIA AND WANT TO EXPLORE OPTIONS."
                        </div></div>`;
                break;
            case 'dq':
                html = `<div class="script-main-content">
                        <div class="script-text" style="color: var(--neon-red)">"I APOLOGIZE, WE CANNOT MOVE FORWARD AT THIS TIME."</div>
                        <button class="btn btn-red" onclick="location.reload()">NEXT CALL</button></div>`;
                break;
        }
        engine.innerHTML = html;
        engine.scrollTop = 0;
    }
</script>
</body>
</html>
