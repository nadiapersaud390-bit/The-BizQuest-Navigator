<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Closer‚Äôs Compass | Master Suite</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #000000;
            --card-bg: #0a0a0a;
            --neon-green: #00ff88;
            --neon-blue: #00d1ff;
            --neon-red: #ff3131;
            --neon-gold: #ffcc00;
            --text-main: #ffffff;
        }

        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--bg-dark); 
            color: var(--text-main); 
            margin: 0; 
            overflow: hidden; 
            display: flex; 
            flex-direction: column; 
            height: 100vh; 
            text-transform: uppercase;
        }

        /* 3-COLUMN LAYOUT [cite: 126] */
        .main-container { 
            display: grid; 
            grid-template-columns: 300px 1fr 350px; 
            flex-grow: 1; 
            gap: 15px; 
            padding: 15px; 
            box-sizing: border-box; 
            overflow: hidden;
        }

        /* HEADER & ENERGY TIPS [cite: 94] */
        .header { 
            height: 60px; 
            background: #111; 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 0 30px; 
            border-bottom: 2px solid #222; 
        }

        /* COLUMN 1: SECURITY FLAGS [cite: 127-132] */
        .sidebar-left { background: var(--card-bg); border: 1px solid #222; border-radius: 15px; display: flex; flex-direction: column; }
        .security-header { background: var(--neon-red); color: #000; font-weight: 900; padding: 12px; text-align: center; font-size: 0.9rem; }
        .security-btn { 
            background: #1a1a1a; color: #fff; border: 1px solid #333; padding: 15px; margin: 8px; 
            border-radius: 8px; cursor: pointer; text-align: left; font-size: 0.7rem; font-weight: 700;
        }
        .security-btn:hover { border-color: var(--neon-red); color: var(--neon-red); }

        /* COLUMN 2: MAIN SCRIPT [cite: 133-138] */
        .script-area { background: #050505; border: 1px solid #222; border-radius: 15px; padding: 25px; display: flex; flex-direction: column; position: relative; }
        .phase-label { color: var(--neon-gold); font-size: 0.8rem; font-weight: 900; margin-bottom: 10px; }
        .script-text { font-size: 1.5rem; line-height: 1.4; margin-bottom: 30px; min-height: 150px; }
        .highlight { color: var(--neon-blue); font-weight: 900; }
        
        .action-row { display: flex; gap: 15px; margin-bottom: 20px; }
        .btn { padding: 15px 25px; border-radius: 8px; font-weight: 900; cursor: pointer; border: none; text-transform: uppercase; transition: 0.2s; }
        .btn-green { background: var(--neon-green); color: #000; }
        .btn-dark { background: #222; color: #fff; }

        /* COLUMN 3: DISPOSITIONS [cite: 99-121, 139-142] */
        .sidebar-right { border: 1px solid var(--neon-blue); border-radius: 15px; padding: 15px; display: flex; flex-direction: column; gap: 12px; overflow-y: auto; }
        .dispo-card { background: #111; border-radius: 12px; padding: 15px; border-left: 6px solid #444; }
        .dispo-green { border-left-color: var(--neon-green); }
        .dispo-yellow { border-left-color: var(--neon-gold); }
        .dispo-red { border-left-color: var(--neon-red); }

        /* REVENUE CALCULATOR  */
        .calc-box { background: #000; border: 2px solid var(--neon-blue); border-radius: 12px; padding: 20px; text-align: center; }
        .calc-input { background: #000; border: none; border-bottom: 2px solid var(--neon-green); color: var(--neon-green); font-size: 2rem; width: 80%; text-align: center; font-weight: 900; outline: none; }
        
        /* MODALS */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1000; display: none; align-items: center; justify-content: center; padding: 20px; }
        .modal-box { background: #111; border: 2px solid var(--neon-blue); padding: 30px; border-radius: 20px; max-width: 500px; width: 100%; text-align: center; }

        .rebuttal-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: auto; }
        .btn-rebuttal { background: transparent; border: 1px solid var(--neon-blue); color: var(--neon-blue); padding: 8px 4px; font-size: 0.6rem; border-radius: 4px; cursor: pointer; font-weight: 700; }
        .btn-rebuttal:hover { background: var(--neon-blue); color: #000; }
    </style>
</head>
<body onload="init()">

<div class="header">
    <div style="font-weight: 900; font-size: 1.2rem;">BUSINESS LOAN DIVISION</div>
    <div id="quote-display" style="color: var(--neon-gold); font-weight: 700; font-size: 0.75rem;"></div>
</div>

<div class="main-container">
    <div class="sidebar-left">
        <div class="security-header">SECURITY FLAGS</div>
        <button class="security-btn" onclick="securityExit('PRANK', 'SAY: This line is reserved for professional business funding inquiries only. Call ended.')">üë§ PRANK [JOHN SMITH]</button>
        <button class="security-btn" onclick="securityExit('PROHIBITED', 'SAY: I apologize, our underwriters do not provide funding for Adult Entertainment or Strip Clubs.')">üîû STRIP CLUB / PORN</button>
        <button class="security-btn" onclick="securityExit('UNREALISTIC', 'SAY: Based on that response, we are not the right fit. We only work with serious businesses.')">üö© ANYS YES / WANT FREE $</button>
        <div style="margin-top: auto; padding: 15px; font-size: 0.6rem; color: #666;">
            ENERGY TIPS: SMILE WHILE YOU TALK [cite: 94]
        </div>
    </div>

    <div class="script-area">
        <div id="script-content">
            </div>

        <div class="rebuttal-dock">
            <div class="phase-label" style="color: var(--neon-blue); margin-top: 20px;">üîÑ LIVE REBUTTALS</div>
            <div class="rebuttal-grid">
                <button class="btn-rebuttal" onclick="openRebuttal('WHICH COMPANY?', 'We\'re the Business Loan Division - we help connect owners to the right lending programs through our partner network.')">WHICH COMPANY?</button>
                <button class="btn-rebuttal" onclick="openRebuttal('IS THIS A SCAM?', 'I understand. This is a legitimate outreach from the Business Loan Division in California. No application or credit pull.')">IS THIS A SCAM?</button>
                <button class="btn-rebuttal" onclick="openRebuttal('NOT INTERESTED', 'I understand. Most people aren\'t until they see the rates we\'re securing right now. Are you currently using working capital?')">NOT INTERESTED</button>
                <button class="btn-rebuttal" onclick="openRebuttal('EMAIL FIRST', 'Once I connect you with the senior advisor, they can send all info. I just need to confirm details first.')">EMAIL ME FIRST</button>
                <button class="btn-rebuttal" onclick="openRebuttal('LOAN TYPE', 'We provide working-capital programs or business lines of credit.')">WHAT LOAN?</button>
                <button class="btn-rebuttal" onclick="openRebuttal('WHY CALLING?', 'Phone is the quickest way to confirm eligibility and make sure the right person gets connected.')">WHY CALLING?</button>
            </div>
        </div>
    </div>

    <div class="sidebar-right">
        <div class="dispo-card dispo-green">
            <div style="color: var(--neon-green); font-weight: 900; font-size: 0.8rem;">‚úÖ SUCCESSFUL TRANSFER</div>
            <button class="btn btn-green" style="width: 100%; margin-top: 10px;" onclick="location.reload()">SEND LEAD</button>
            <div style="color: var(--neon-green); font-size: 0.6rem; margin-top: 5px;">DISPO: TRANSFERRED</div>
        </div>

        <div class="dispo-card dispo-yellow">
            <div style="color: var(--neon-gold); font-weight: 900; font-size: 0.8rem;">üë§ ADVISOR ONLY</div>
            <div style="border: 1px dashed var(--neon-gold); padding: 8px; font-size: 0.65rem; margin: 10px 0;">
                EXPLAIN: "CLIENT WAS ON, BUT DROPPED. SENDING LEAD INFO NOW."
            </div>
            <button class="btn" style="background: var(--neon-gold); color: #000; width: 100%;" onclick="location.reload()">SEND LEAD</button>
            <div style="color: var(--neon-gold); font-size: 0.6rem; margin-top: 5px;">DISPO: TRANSFERRED</div>
        </div>

        <div class="dispo-card dispo-red">
            <div style="color: var(--neon-red); font-weight: 900; font-size: 0.8rem;">‚ùå CALL DROPPED</div>
            <div style="background: var(--neon-red); color: #fff; padding: 10px; border-radius: 4px; text-align: center; margin-top: 10px;">
                <div style="font-weight: 900;">NO LEAD SENT</div>
                <div style="font-size: 0.5rem;">NO CUSTOMER - NO LOAN SPECIALIST</div>
            </div>
            <div style="color: #600; font-size: 0.6rem; font-weight: 900; margin-top: 5px; text-align: center;">DO NOT SEND IN TRACKER</div>
        </div>
    </div>
</div>

<div id="modal-overlay" class="overlay" onclick="closeModal()">
    <div class="modal-box" id="modal-content" onclick="event.stopPropagation()"></div>
</div>

<script>
    const quotes = ["SMILE WHILE YOU TALK", "ENERGY OVER EVERYTHING", "TONE IS THE CLOSER"];
    let customerData = { name: "", biz: "", rev: 0 };

    function init() {
        document.getElementById('quote-display').innerText = quotes[Math.floor(Math.random()*quotes.length)];
        renderStep('opener');
    }

    function renderStep(step) {
        const area = document.getElementById('script-content');
        let html = "";

        switch(step) {
            case 'opener': // [cite: 1, 134-137]
                html = `<div class="phase-label">PHASE 1: THE OPENER</div>
                        <div class="script-text">"HI, THIS IS <span class="highlight">(YOUR NAME)</span> FROM THE <span class="highlight">BUSINESS LOAN DIVISION</span>. AM I SPEAKING WITH THE BUSINESS OWNER?"</div>
                        <div class="action-row">
                            <button class="btn btn-green" onclick="renderStep('qual_1')">YES (OWNER ON)</button>
                            <button class="btn btn-dark" onclick="openRebuttal('GATEKEEPER', 'SAY: Can I please speak with the owner or the managing partner, I\\\'ll hold.')">NO (TRANSFER)</button>
                        </div>`;
                break;

            case 'qual_1': // [cite: 12-13]
                html = `<div class="phase-label">PHASE 2: QUALIFICATION</div>
                        <div class="script-text">"HAVE YOU BEEN IN BUSINESS FOR AT LEAST <span class="highlight">1 YEAR</span>?"</div>
                        <button class="btn btn-green" onclick="renderStep('industry')">YES (1 YEAR+)</button>`;
                break;

            case 'industry': // [cite: 13, 35-46]
                html = `<div class="phase-label">INDUSTRY CHECK</div>
                        <div class="script-text">"WHAT TYPE OF <span class="highlight">INDUSTRY</span> ARE YOU IN?"</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <button class="btn btn-dark" style="font-size:0.7rem" onclick="renderStep('const_drill')">CONSTRUCTION</button>
                            <button class="btn btn-dark" style="font-size:0.7rem" onclick="renderStep('trans_drill')">TRANSPORTATION</button>
                            <button class="btn btn-dark" style="font-size:0.7rem" onclick="renderStep('revenue')">RETAIL/SERVICE/OTHER</button>
                            <button class="btn btn-dark" style="font-size:0.7rem; background: var(--neon-red);" onclick="securityExit('PROHIBITED', 'SAY: I apologize, we do not fund Lawyers or Attorneys.')">LAWYER/ATTORNEY</button>
                        </div>`;
                break;

            case 'const_drill': // 
                html = `<div class="phase-label">CONSTRUCTION DRILL-DOWN</div>
                        <div class="script-text" style="font-size:1.1rem">"DOES IT DEAL WITH TRUCKS AS A MAJOR PART OF THE COMPANY?"</div>
                        <div class="action-row">
                            <button class="btn btn-dark" onclick="securityExit('DQ', 'SAY: We do not qualify heavy-duty trucking operations.')">YES (MAJORITY TRUCKS)</button>
                            <button class="btn btn-green" onclick="renderStep('revenue')">NO (PAYROLL/CREW/EQUIP)</button>
                        </div>`;
                break;

            case 'revenue': // 
                html = `<div class="phase-label">FINANCIAL TOOLS</div>
                        <div class="script-text" style="font-size:1.1rem">"WHAT IS YOUR AVERAGE MONTHLY REVENUE?"</div>
                        <div class="calc-box">
                            <input type="number" id="monthly-in" class="calc-input" placeholder="$0" oninput="calculateRev(this.value)">
                            <div id="rev-status" style="margin-top:20px; font-weight:900;">YEARLY: $0</div>
                        </div>
                        <button id="rev-btn" class="btn" style="width:100%; margin-top:15px; opacity:0.3" disabled onclick="renderStep('handoff_prep')">MIN $200K REQUIRED</button>`;
                break;

            case 'handoff_prep': // [cite: 68-73]
                html = `<div class="phase-label">QUALIFIED</div>
                        <div class="script-text">"GREAT! YOU MEET THE CRITERIA. I'M CONNECTING YOU WITH A <span class="highlight">SENIOR ADVISOR</span> NOW."</div>
                        <button class="btn btn-green" onclick="renderStep('final_handoff')">READY FOR TRANSFER</button>`;
                break;

            case 'final_handoff': // [cite: 74-76, 98]
                html = `<div class="phase-label" style="color:var(--neon-green)">THE HANDOFF SCRIPT</div>
                        <div class="script-text" style="border: 2px solid var(--neon-green); padding: 15px; border-radius: 12px; font-size:1.2rem;">
                            "HI, THIS IS (YOUR NAME), I HAVE THE OWNER ON THE LINE. THEIR BUSINESS MEETS THE CRITERIA FOR FUNDING AND WOULD LIKE TO EXPLORE OPTIONS."
                        </div>`;
                break;
        }
        area.innerHTML = html;
    }

    function calculateRev(val) {
        const yearly = val * 12;
        const btn = document.getElementById('rev-btn');
        const display = document.getElementById('rev-status');
        display.innerText = "EST. YEARLY: $" + yearly.toLocaleString();

        if (yearly >= 200000) {
            btn.disabled = false;
            btn.style.opacity = "1";
            btn.className = "btn btn-green";
            btn.innerText = (yearly >= 1000000) ? "HIGH TIER ($1M+) - CONTINUE" : "QUALIFIED - CONTINUE";
        } else {
            btn.disabled = true;
            btn.style.opacity = "0.3";
            btn.innerText = "MIN $200K REQUIRED";
        }
    }

    function securityExit(title, script) {
        document.getElementById('script-content').innerHTML = `
            <div class="phase-label" style="color:var(--neon-red)">‚ö†Ô∏è EXIT PROTOCOL: ${title}</div>
            <div class="script-text">${script}</div>
            <button class="btn btn-dark" style="width:100%" onclick="location.reload()">TERMINATE & RESET</button>`;
    }

    function openRebuttal(title, text) {
        const modal = document.getElementById('modal-overlay');
        document.getElementById('modal-content').innerHTML = `
            <h2 style="color:var(--neon-blue)">${title}</h2>
            <p style="font-size:1.3rem; margin: 20px 0;">${text}</p>
            <button class="btn btn-green" style="width:100%" onclick="closeModal()">RESUME CALL</button>`;
        modal.style.display = 'flex';
    }

    function closeModal() { document.getElementById('modal-overlay').style.display = 'none'; }
</script>
</body>
</html>
